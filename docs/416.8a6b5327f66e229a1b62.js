(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[416],{2416:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ListProductAttributeModule:()=>k});var s=i(8583),a=i(1558),r=i(8071),n=i(8002),l=i(1003),h=i(7716),o=i(2688),d=i(721),c=i(1355),u=i(7423),g=i(3321),p=i(665),b=i(1453);const A=["modelRef"];function f(t,e){1&t&&(h.TgZ(0,"span",6),h._uU(1," *"),h.qZA())}function m(t,e){1&t&&(h.TgZ(0,"span",8),h._uU(1," \xa0 Invalid"),h.qZA())}function v(t,e){if(1&t&&(h.TgZ(0,"span",8),h._uU(1),h.qZA()),2&t){const t=h.oxw(2);h.xp6(1),h.hij(" \xa0 ",t.invalidMsg,"")}}function M(t,e){1&t&&(h.TgZ(0,"span",8),h._uU(1,"\xa0 Required"),h.qZA())}function Z(t,e){if(1&t&&(h.ynx(0),h.YNc(1,m,2,0,"span",7),h.YNc(2,v,2,1,"span",7),h.YNc(3,M,2,0,"span",7),h.BQk()),2&t){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",null!=t.sharedVar&&null==t.invalidMsg),h.xp6(1),h.Q6J("ngIf",null!=t.sharedVar&&null!=t.invalidMsg),h.xp6(1),h.Q6J("ngIf",null==t.sharedVar&&0!=t.showErrorMessage)}}let C=(()=>{class t{constructor(){this.label="",this.fieldId="",this.isMandatory=!1,this.isCapital=!1,this.invalidMsg="",this.isDisabled=!1,this.maxLength=100,this.isFocus=!1,this.toolTip="",this.isDate=!1,this.showErrorMessage=!0,this.lengthValid=!0,this.sharedVarChange=new h.vpe}ngOnInit(){}ngOnChanges(t){t.sharedVar&&(null!=this.sharedVar&&""!=this.sharedVar&&null!=this.sharedVar&&null!=this.sharedVar[0]&&(this.sharedVar=this.sharedVar[0].toUpperCase()+this.sharedVar.slice(1)),null!=this.sharedVar&&""!=this.sharedVar&&1==this.isCapital&&(this.sharedVar=this.sharedVar.toUpperCase()))}keyPress(t){return this.lengthValid=null==this.maxLength||t.target.value.length<this.maxLength,0!=this.lengthValid||(setTimeout(()=>{this.lengthValid=!0},2e3),!1)}change(t){if(null!=t){var e=t.length;t.replace(/\s/g,"").length||e>1&&(this.invalidMsg="Please enter any character",this.modelRef.control.setErrors({invalid:!0})),null!=t&&(t=t.trim()),""==t?1==this.isMandatory&&0!=this.showErrorMessage?(e<1?(this.invalidMsg="Required",this.lengthValid=!0):this.invalidMsg="Please enter any character",this.modelRef.control.setErrors({invalid:!0})):0==this.showErrorMessage&&(this.invalidMsg=" "):null!=this.maxLength&&(t.length==this.maxLength||(t.length>this.maxLength?(this.invalidMsg=`Maximum Allowed Length is ${this.maxLength}`,this.modelRef.control.setErrors({invalid:!0}),this.lengthValid=!0,this.lengthErrorMessage=void 0):(this.lengthValid=!0,this.lengthErrorMessage=void 0))),this.sharedVar=t,this.sharedVarChange.emit(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-Text-Area"]],viewQuery:function(t,e){if(1&t&&h.Gf(A,5),2&t){let t;h.iGM(t=h.CRH())&&(e.modelRef=t.first)}},inputs:{sharedVar:"sharedVar",label:"label",fieldId:"fieldId",isMandatory:"isMandatory",isCapital:"isCapital",pattern:"pattern",invalidMsg:"invalidMsg",isDisabled:"isDisabled",maxLength:"maxLength",isFocus:"isFocus",toolTip:"toolTip",isDate:"isDate",showErrorMessage:"showErrorMessage"},outputs:{sharedVarChange:"sharedVarChange"},features:[h._Bn([],[{provide:p.gN,useExisting:p.F}]),h.TTD],decls:9,vars:9,consts:[[1,"form-group"],[1,"control-label"],["class","required-star",4,"ngIf"],[4,"ngIf"],["type","text",1,"form-control",3,"id","name","placeholder","ngModel","required","disabled","ngModelChange","keypress"],["modelRef","ngModel"],[1,"required-star"],["class","help-block error-block",4,"ngIf"],[1,"help-block","error-block"]],template:function(t,e){if(1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div"),h.TgZ(2,"label",1),h._uU(3),h.YNc(4,f,2,0,"span",2),h._uU(5," : "),h.YNc(6,Z,4,3,"ng-container",3),h.qZA(),h.TgZ(7,"textarea",4,5),h.NdJ("ngModelChange",function(t){return e.sharedVar=t})("ngModelChange",function(t){return e.change(t)})("keypress",function(t){return e.keyPress(t)}),h.qZA(),h.qZA(),h.qZA()),2&t){const t=h.MAs(8);h.xp6(3),h.hij(" ",e.label," "),h.xp6(1),h.Q6J("ngIf",e.isMandatory),h.xp6(2),h.Q6J("ngIf",t.invalid&&t.touched),h.xp6(1),h.Q6J("id",e.fieldId)("name",e.fieldId)("placeholder",e.label)("ngModel",e.sharedVar)("required",e.isMandatory)("disabled",e.isDisabled)}},directives:[s.O5,p.Fj,p.JJ,p.On,p.Q7],styles:[".error-block[_ngcontent-%COMP%], .required-star[_ngcontent-%COMP%]{color:red}"]}),t})();function V(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",5),h.TgZ(1,"h4",6),h._uU(2,"Add"),h.qZA(),h.TgZ(3,"button",7),h.NdJ("click",function(){h.CHM(t);const e=h.MAs(8),i=h.oxw();return null!=i.modalRef&&i.modalRef.hide(),e.reset()}),h.TgZ(4,"span",8),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",9),h.TgZ(7,"form",null,10),h.TgZ(9,"div",0),h.TgZ(10,"div",11),h.TgZ(11,"app-Text-Input",12),h.NdJ("FoucsChange",function(){return h.CHM(t),h.oxw().checkName()})("sharedVarChange",function(e){return h.CHM(t),h.oxw().addAttribue.name=e}),h.qZA(),h.qZA(),h.TgZ(12,"div",11),h.TgZ(13,"app-Text-Area",13),h.NdJ("sharedVarChange",function(e){return h.CHM(t),h.oxw().addAttribue.description=e}),h.qZA(),h.qZA(),h.TgZ(14,"div",14),h.TgZ(15,"button",15),h.NdJ("click",function(){h.CHM(t);const e=h.MAs(8),i=h.oxw();return e.reset(),i.submit(e)}),h._uU(16,"Save"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=h.MAs(8),e=h.oxw();h.xp6(11),h.Q6J("isMandatory",!0)("DuplicateError",e.isCheckAttribute)("sharedVar",e.addAttribue.name),h.xp6(2),h.Q6J("isMandatory",!0)("sharedVar",e.addAttribue.description),h.xp6(2),h.Q6J("disabled",!t.valid||e.isCheckAttribute)}}const x=a.Bz.forChild([{path:"",component:(()=>{class t{constructor(t,e,i,s){this.http=t,this.modalService=e,this.toastr=i,this.loader=s,this.values=[{value:"name"},{value:"description"}],this.headers=["Attribute Name","Attribute Description"],this.tableData=[],this.dtOptions={},this.attributeData={},this.checkAttribute={},this.isCheckAttribute=!1,this.addAttribue={},this.config={backdrop:!0,ignoreBackdropClick:!0},this.getAllAttributeData$=this.http.get(`${l.s.url}ProductAttribute/GetAttributeAsync`).pipe((0,n.U)(t=>{this.attributeData=t,this.attributeData=this.attributeData.data,this.tableData=this.attributeData})),this.saveAttributeData$=this.http.create(`${l.s.url}ProductAttribute/Add`,this.addAttribue).pipe((0,n.U)(t=>{t.success&&this.toastr.showSuccess()}))}checkAttributeName$(){return this.http.get(`${l.s.url}ProductAttribute/CheckDuplicacy/${this.addAttribue.name}`).pipe((0,n.U)(t=>{this.checkAttribute=t,this.isCheckAttribute=this.checkAttribute.data}))}ngOnInit(){this.getAllAttributeData$.subscribe()}openModal(t){this.modalRef=this.modalService.show(t,this.config)}checkName(){this.checkAttributeName$().subscribe()}submit(t){console.log(this.addAttribue);const e=(0,r.z)(this.saveAttributeData$,this.getAllAttributeData$);this.loader.start(),e.subscribe(t=>{this.loader.stop(),this.modalRef.hide(),this.addAttribue={}},t=>{this.toastr.showError(),this.loader.stop(),this.modalRef.hide()})}handleError(t){console.log(this.toastr)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(o.Y),h.Y36(d.tT),h.Y36(c.I),h.Y36(u.D))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-List-Product-Attribute"]],decls:10,vars:3,consts:[[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","float-right",3,"click"],[3,"data","headers","values"],["template",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","btn-close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["ngForm","ngForm"],[1,"col-12"],["label","Name","fieldId","Name",3,"isMandatory","DuplicateError","sharedVar","FoucsChange","sharedVarChange"],["label","Description","fieldId","Description",3,"isMandatory","sharedVar","sharedVarChange"],[1,"col-12","mt-2"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"a",2),h.NdJ("click",function(){h.CHM(t);const i=h.MAs(9);return e.openModal(i)}),h._uU(3,"Add"),h.qZA(),h.TgZ(4,"h2"),h._uU(5,"Product Attribute"),h.qZA(),h.qZA(),h.TgZ(6,"div",1),h._UZ(7,"app-DataTable",3),h.qZA(),h.qZA(),h.YNc(8,V,17,6,"ng-template",null,4,h.W1O)}2&t&&(h.xp6(7),h.Q6J("data",e.tableData)("headers",e.headers)("values",e.values))},directives:[g.Q,p._Y,p.JL,p.F,b.t,C],styles:[""]}),t})()}]);var T=i(696);let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[s.ez,x,T.U,d.zk.forRoot(),p.u5]]}),t})()}}]);